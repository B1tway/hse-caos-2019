/*
        это пример неперемещаемого кода.
        такой код нормально использовать при статической компоновке,
        но он плох (хотя и допустим в 32-битном режиме) для динамической компоновки
        этот код недопустим в 64-битном режиме для динамической компоновки
*/
        .att_syntax     noprefix
        .text
        .align  16
        .global func
        .extern A, B, C
        .type   func, @function // нужно объявить тип "func" чтобы линкер смог сгенерировать правильную таблицу импортов при динамической компоновке
func:
        mov     A, eax
        add     B, eax
        mov     eax, C
        ret
